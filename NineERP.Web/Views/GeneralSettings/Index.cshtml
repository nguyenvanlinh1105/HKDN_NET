@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["Settings"];
    var breadcrumb = new List<(string Text, string Url)>
    {
        (Localizer["Dashboard"].Value, "/dashboard"),
        (Localizer["System Management"].Value, null!)
    };
}
@section Styles {
    <link href="~/admin-app/controllers/generalsettings/index.css" rel="stylesheet" asp-append-version="true" />
}
@section Scripts {
    <script src="~/admin-app/controllers/generalsettings/index.js" asp-append-version="true"></script>
    <script>
        window.localization = {
            Save: '@Localizer["Save"]',
            RequiredFields: '@Localizer["RequiredFields"]',
            EmailInvalid: '@Localizer["EmailInvalid"]',
            MustBeNumber: '@Localizer["MustBeNumber"]',
            SaveSuccess: '@Localizer["SavedSuccessfully"]',
            SaveFailed: '@Localizer["SaveFailed"]',
            SaveError: '@Localizer["SaveError"]',
            Required_PasswordDefault: '@Localizer["Required_PasswordDefault"]',
            Required_FiscalYearStartDay: '@Localizer["Required_FiscalYearStartDay"]',
            Required_AnnualLeaveDays: '@Localizer["Required_AnnualLeaveDays"]',
            Required_ApprovedBy: '@Localizer["Required_ApprovedBy"]',
            Required_CancelBy: '@Localizer["Required_CancelBy"]',
            LoadError: '@Localizer["LoadError"]',
        };

        const generalSettingController = new GeneralSettingsController();
        generalSettingController.initialize();
    </script>
}

<div class="row">
    <div class="col-12">
        <div class="page-title-box d-flex justify-content-between align-items-center">
            <h4 class="page-title">@ViewData["Title"]</h4>
            <div>@await Html.PartialAsync("_BreadcrumbPartial", breadcrumb)</div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="card-box">
            <ul class="nav nav-pills navtab-bg">
                <li class="nav-item">
                    <a href="#general-info" data-toggle="tab" aria-selected="true" class="nav-link active ml-0">
                        @Localizer["General Information"]
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#system-info" data-toggle="tab" aria-selected="false" class="nav-link">
                        @Localizer["System Setting Information"]
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#tax-info" data-toggle="tab" aria-selected="false" class="nav-link">
                        @Localizer["Tax Information"]
                    </a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="general-info">
                    @await Html.PartialAsync("_GeneralInformationPartial")
                </div>
                <div class="tab-pane fade" id="system-info">
                    @await Html.PartialAsync("_SystemSettingInformationPartial")
                </div>
                <div class="tab-pane fade" id="tax-info">
                    @await Html.PartialAsync("_TaxInformationPartial")
                </div>
            </div>

            <div class="text-right">
                <button id="btn-save-settings" class="btn btn-primary waves-effect waves-light">
                    <span class="spinner-border spinner-border-sm d-none" id="spinner-save" role="status" aria-hidden="true"></span>
                    <i class="mdi mdi-content-save"></i> @Localizer["Save"]
                </button>
            </div>
        </div>
    </div>
</div>